<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="AnotadorGymApp.PopUp.BuscarEjerciciosPopUp"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit">
    
    <VerticalStackLayout Spacing="10" Padding="8" WidthRequest="350">
        <Entry x:Name="EjerciciosSearchBar"
            Placeholder="Buscar Ejercicio..."
            TextChanged="EjerciciosSearchBar_TextChanged"
            FontSize="14" BackgroundColor="Transparent" PlaceholderColor="Black" TextColor="Black" Margin="0"/>
                        
        <CollectionView x:Name="SeleccionadosCollectionView">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Border Stroke="DarkGray" StrokeThickness="1" Padding="0" Margin="0,3">
                        <HorizontalStackLayout Padding="0" Spacing="10">
                            <Label Text="{Binding Name}" FontSize="10" TextColor="Black" VerticalOptions="Center"></Label>
                            <Button Text="âœ•" FontSize="12" BackgroundColor="Transparent" TextColor="Black" BorderColor="Gray" BorderWidth="1" HorizontalOptions="End" Padding="0" VerticalOptions="Center"
                                    WidthRequest="20" HeightRequest="20"
                                   Clicked="BorrarEjercicio_Clicked" />
                        </HorizontalStackLayout>
                    </Border>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <CollectionView x:Name="FiltradosCollectionView" ItemsSource="{Binding FiltradosEjercicios}"
                        SelectionChanged="FiltradosCollectionView_SelectionChanged" SelectionMode="Single">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <VerticalStackLayout>
                        <Label Text="{Binding Name}" FontSize="10" TextColor="Black"></Label>
                        <BoxView HeightRequest="1" BackgroundColor="Black" Margin="0,2"/>
                    </VerticalStackLayout>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
        <HorizontalStackLayout Spacing="10" Padding="0" HorizontalOptions="Center">
            <Button x:Name="AceptarButton" Text="Aceptar" Clicked="AceptarButton_Clicked"></Button>
            <Button x:Name="CancelarButton" Text="Cancelar" Clicked="CancelarButton_Clicked"></Button>
        </HorizontalStackLayout>
    </VerticalStackLayout>
</toolkit:Popup>